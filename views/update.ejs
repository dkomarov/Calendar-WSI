<title>Update Form</title>

<nav id="navID">
  <input type="checkbox" id="nav-menu">
  <label for="nav-menu">
    <i class="fas fa-bars" id="sign-one"></i>
      <i class="fas fa-times" id="sign-two"></i>
      </label>
      <h1><a class="logo" id="logo-link" href="/menu"><img class="logo view-appointment" src="/images/logo.png" height="50" width="179" alt="appt-logo"/></a></h1>
    <ul>
      <li><a href="./appointment"><span id="create-appointment"></span>Create Appointment</a></li>
      <li><a href="/appointment/view-appointment"><span id="view-appointment"></span>View Appointments</a></li>
      <li><a class="logout-btn" href="/auth/logout"><span id="logout-icon"></span>Logout</a></li>
    </ul>
</nav>

<% if(success != ''){%>
  <section class="alert">
    <strong><%= success%></strong>
  </section>
  <%}%>
<section id="appointmentForm">
  <%var count = 0%>
  <% event.forEach(function (eve) { %>
  <%count++%>
  
  <form method="post" action="/appointment/view-appointment/update/<%= eve._id%>" id="formVal">
    <h3>Update Appointment <%= eve.summary %></h3>
    <table id="form">
      <tr>
        <td><input type="text" id="summary" name="summary" value="<%= eve.summary %>"></td>
      </tr>
      <tr>
        <td><input type="text" id="location" name="location" value="<%= eve.location %>"></td>
      </tr>
      <tr>
        <td><input type="text" id="description" name="description" value="<%= eve.description %>"></td>
      </tr>
      <tr>
        <td><input type="text" id="startDate" name="startDate" value="<%= eve.start == null ? '': eve.start.split('T')[0]%>" placeholder="Start Date: MM/DD/YYYY" onfocus="(this.type='date')" onblur="(this.type='text')"></td>
      </tr>
      <tr>
        <td><input type="text" id="startTime" name="startTime" value="<%= eve.start == null ? '': eve.start.split('-')[3]%>" placeholder="Start Time: HH:MM AM/PM" onfocus="(this.type='time')" onblur="(this.type='text')"></td>
      </tr>
      <tr>
        <td><input type="text" id="endDate" name="endDate" value="<%= eve.end == null ? '': eve.end.split('T')[0]%>" placeholder="End Date: MM/DD/YYYY" onfocus="(this.type='date')" onblur="(this.type='text')"></td>
      </tr>
      <tr>
        <td><input type="text" id="endTime" name="endTime" value="<%= eve.end == null ? '': eve.end.split('-')[3]%>" placeholder="End Time: HH:MM AM/PM" onfocus="(this.type='time')" onblur="(this.type='text')"></td>
      </tr>
      <tr>
        <td><input type="number" id="recurrence" name="recurrence" value="<%= eve.recurrence %>" placeholder="Recurrence: (#)"></td>
      </tr>
      <tr>
        <td><input type="email" id="attendees" name="attendees"  value="<%= eve.attendees %>" multiple placeholder="Attendee Email(s): xyz@gmail.com, abc@gmail.com"></td>
      </tr>
      <tr>
        <td><input type="text" id="reminders" name="reminders" value="<%= eve.reminders %>" placeholder="Reminder notes"></td>
      </tr>
    </table>
    <br>
    <span id="error"></span>
    <input type="button" value="Update" id="form-btn" /> 
  </form>
  <% }) %>
</section>

<script src="https://kit.fontawesome.com/a05bed8e85.js" crossorigin="anonymous"></script>
<script src="https://apis.google.com/js/api.js"></script>
<script src="https://apis.google.com/js/platform.js" async defer></script>
<script src="https://code.jquery.com/jquery-3.4.1.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<script rel="javascripts" src="/javascripts/socket.io.js"></script>
<script rel="javascripts" src="/javascripts/scripts.js"></script>